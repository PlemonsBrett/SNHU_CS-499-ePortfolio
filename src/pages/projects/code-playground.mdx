---
layout: ../../layouts/BaseLayout.astro
title: Interactive Code Playground | Brett Plemons
---

import CodePlayground from '../../components/CodePlayground.svelte'

# Interactive Code Playground

Experience algorithms and data structures in action with this live JavaScript execution environment.

<CodePlayground client:load>
```javascript
// Bayesian A/B Test Calculator
class BayesianABTest {
  constructor(alphaA = 1, betaA = 1, alphaB = 1, betaB = 1) {
    this.priorA = { alpha: alphaA, beta: betaA }
    this.priorB = { alpha: alphaB, beta: betaB }
  }
  
  updatePosterior(conversions, trials, prior) {
    return {
      alpha: prior.alpha + conversions,
      beta: prior.beta + (trials - conversions)
    }
  }
  
  calculateProbability(posteriorA, posteriorB, samples = 10000) {
    let wins = 0
    
    for (let i = 0; i < samples; i++) {
      const sampleA = this.betaSample(posteriorA.alpha, posteriorA.beta)
      const sampleB = this.betaSample(posteriorB.alpha, posteriorB.beta)
      if (sampleA > sampleB) wins++
    }
    
    return wins / samples
  }
  
  betaSample(alpha, beta) {
    // Simplified beta distribution sampling
    const x = this.gammaSample(alpha)
    const y = this.gammaSample(beta)
    return x / (x + y)
  }
  
  gammaSample(shape) {
    // Marsaglia and Tsang method (simplified)
    let d = shape - 1/3
    let c = 1 / Math.sqrt(9 * d)
    
    while (true) {
      let x = this.normalRandom()
      let v = Math.pow(1 + c * x, 3)
      if (v > 0 && Math.log(Math.random()) < 0.5 * x * x + d - d * v + d * Math.log(v)) {
        return d * v
      }
    }
  }
  
  normalRandom() {
    // Box-Muller transform
    const u1 = Math.random()
    const u2 = Math.random()
    return Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2)
  }
}

// Example usage
const test = new BayesianABTest()
const posteriorA = test.updatePosterior(120, 1000, test.priorA)
const posteriorB = test.updatePosterior(100, 1000, test.priorB)
const probability = test.calculateProbability(posteriorA, posteriorB)

console.log(`Probability that A is better than B: ${(probability * 100).toFixed(2)}%`)
```
</CodePlayground>

## Key Features

- **Real-time Execution**: See your code run instantly in the browser
- **Console Output Capture**: All console.log statements are displayed below
- **Error Handling**: Graceful error messages for debugging
- **Editable Code**: Modify and experiment with the algorithms

## Example Algorithms

### Monte Carlo Simulation

<CodePlayground client:load>
```javascript
// Monte Carlo estimation of Pi
function estimatePi(iterations = 100000) {
  let insideCircle = 0
  
  for (let i = 0; i < iterations; i++) {
    const x = Math.random()
    const y = Math.random()
    
    if (x * x + y * y <= 1) {
      insideCircle++
    }
  }
  
  return 4 * insideCircle / iterations
}

console.log('Estimating Pi using Monte Carlo method...')
console.log(`10,000 iterations: ${estimatePi(10000)}`)
console.log(`100,000 iterations: ${estimatePi(100000)}`)
console.log(`Actual value of Pi: ${Math.PI}`)
```
</CodePlayground>

### Sorting Algorithm Visualization

<CodePlayground client:load>
```javascript
// Quick Sort Implementation with Step Tracking
function quickSort(arr, steps = []) {
  if (arr.length <= 1) return arr
  
  const pivot = arr[Math.floor(arr.length / 2)]
  const left = arr.filter(x => x < pivot)
  const middle = arr.filter(x => x === pivot)
  const right = arr.filter(x => x > pivot)
  
  steps.push(`Pivot: ${pivot}, Left: [${left}], Right: [${right}]`)
  
  return [...quickSort(left, steps), ...middle, ...quickSort(right, steps)]
}

const array = [64, 34, 25, 12, 22, 11, 90]
const steps = []
console.log(`Original array: [${array}]`)

const sorted = quickSort(array, steps)
console.log('\nSorting steps:')
steps.forEach((step, i) => console.log(`Step ${i + 1}: ${step}`))
console.log(`\nSorted array: [${sorted}]`)
```
</CodePlayground>

## Technical Implementation

This playground is built with:
- **Svelte** for reactive UI components
- **Function Constructor** for safe code execution
- **Real-time console capture** for immediate feedback
- **Syntax highlighting** for better code readability

Try modifying the code above or write your own algorithms to see them in action!